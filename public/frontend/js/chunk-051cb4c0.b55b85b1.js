(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-051cb4c0"],{"67bb":function(t,e,a){},a15b:function(t,e,a){"use strict";var s=a("23e7"),i=a("44ad"),r=a("fc6a"),l=a("a640"),c=[].join,o=i!=Object,n=l("join",",");s({target:"Array",proto:!0,forced:o||!n},{join:function(t){return c.call(r(this),void 0===t?",":t)}})},bb84:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"m-profile"},[1==t.loading?a("b-container",[a("h4",{staticClass:"main-title mb-4"},[t._v("Pricing Plan")]),a("b-row",{staticClass:"justify-content-center"},[a("b-col",{attrs:{lg:"12"}},[a("div",{staticClass:"sign-user_card"},[a("div",{staticClass:"table-responsive pricing pt-2"},[a("table",{staticClass:"table",attrs:{id:"my-table"}},[a("thead",[a("tr",[a("th",{staticClass:"text-center prc-wrap"}),t._l(t.memships,(function(e,s){return a("th",{key:s,staticClass:"text-center prc-wrap"},[a("div",{class:t.user.memship.name==e.name?"prc-box active":"prc-box"},[a("div",{staticClass:"h3 pt-4 text-white"},[t._v(t._s(e.feePerMonth)+"$"),a("small",[t._v(" / Per month")])]),a("span",{staticClass:"type"},[t._v(t._s(e.name))])])])}))],2)]),a("tbody",[a("tr",[a("th",{staticClass:"text-center",attrs:{scope:"row"}},[t._v("Multi Login Count")]),t._l(t.memships,(function(e,s){return a("td",{key:s,class:t.user.memship.name==e.name?"text-center child-cell active":"text-center child-cell"},[t._v(" "+t._s(e.multiLoginCount)+" ")])}))],2),a("tr",[a("th",{staticClass:"text-center",attrs:{scope:"row"}},[t._v("Unlimited Movies")]),t._l(t.memships,(function(e,s){return a("td",{key:s,class:t.user.memship.name==e.name?"text-center child-cell active":"text-center child-cell"},[e.unLimitContent?a("i",{staticClass:"ri-check-line ri-2x"}):a("i",{staticClass:"ri-close-line i-close"})])}))],2),a("tr",[a("th",{staticClass:"text-center",attrs:{scope:"row"}},[t._v("Watch on your laptop, tablet and phone")]),t._l(t.memships,(function(e,s){return a("td",{key:s,class:t.user.memship.name==e.name?"text-center child-cell active":"text-center child-cell"},[e.enbAllDevice?a("i",{staticClass:"ri-check-line ri-2x"}):a("i",{staticClass:"ri-close-line i-close"})])}))],2),a("tr",[a("th",{staticClass:"text-center",attrs:{scope:"row"}},[t._v("HD(720~1080p) Video Quality")]),t._l(t.memships,(function(e,s){return a("td",{key:s,class:t.user.memship.name==e.name?"text-center child-cell active":"text-center child-cell"},[e.enbHDQuality?a("i",{staticClass:"ri-check-line ri-2x"}):a("i",{staticClass:"ri-close-line i-close"})])}))],2),a("tr",[a("th",{staticClass:"text-center",attrs:{scope:"row"}},[t._v("UHD(4K+) Video Quality")]),t._l(t.memships,(function(e,s){return a("td",{key:s,class:t.user.memship.name==e.name?"text-center child-cell active":"text-center child-cell"},[e.enbUHDQuality?a("i",{staticClass:"ri-check-line ri-2x"}):a("i",{staticClass:"ri-close-line i-close"})])}))],2),a("tr",[a("td",{staticClass:"text-center"},[a("i",{staticClass:"ri-close-line i_close"})]),t._l(t.memships,(function(e,s){return a("td",{key:s,staticClass:"text-center"},[a("a",{staticClass:"btn btn-hover mt-3",attrs:{href:"#"},on:{click:function(a){return t.purchaseMemship(e)}}},[t._v("Purchase")])])}))],2)])])])])])],1)],1):t._e(),a("div",{staticClass:"modal fade bd-example-modal-xl",attrs:{id:"payOption",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content",staticStyle:{background:"var(--iq-body-bg)"}},[t._m(0),a("div",{staticClass:"modal-body"},[a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("form",{staticClass:"validation",attrs:{role:"form",action:"https://onyxstreaming.com/api/payment/add-funds/stripe",method:"post","data-cc-on-file":"false","data-stripe-publishable-key":"pk_test_51Hvx9gKTG3bBPojijmHjyeaa7KZ4QJ1WcyqlDiQFCEyX42YClQACvCBSS6G4ot4nNGj9OPtjdO6FwHXu6H44kS6Q00mu3S1EoT",id:"stripe-form"}},[a("input",{attrs:{type:"hidden",name:"_token"},domProps:{value:t.csrf}}),a("div",{staticClass:"form-row row"},[a("div",{staticClass:"col-lg-12 form-group required"},[a("label",{staticClass:"control-label"},[t._v("Name on Card")]),t._v(" "),a("input",{staticClass:"form-control",attrs:{size:"4",type:"text"}})])]),a("div",{staticClass:"form-row row"},[a("div",{staticClass:"col-lg-12 form-group required"},[a("label",{staticClass:"control-label"},[t._v("Card Number")]),t._v(" "),a("input",{staticClass:"form-control card-num",attrs:{autocomplete:"off",size:"20",type:"text"}})])]),a("div",{staticClass:"form-row row"},[a("div",{staticClass:"col-xs-12 col-md-4 form-group cvc required"},[a("label",{staticClass:"control-label"},[t._v("CVC")]),a("input",{staticClass:"form-control card-cvc",attrs:{autocomplete:"off",placeholder:"e.g 415",size:"4",type:"text"}})]),a("div",{staticClass:"col-xs-12 col-md-4 form-group expiration required"},[a("label",{staticClass:"control-label"},[t._v("Expiration Month")]),t._v(" "),a("input",{staticClass:"form-control card-expiry-month",attrs:{placeholder:"MM",size:"2",type:"text"}})]),a("div",{staticClass:"col-xs-12 col-md-4 form-group expiration required"},[a("label",{staticClass:"control-label"},[t._v("Expiration Year")]),t._v(" "),a("input",{staticClass:"form-control card-expiry-year",attrs:{placeholder:"YYYY",size:"4",type:"text"}})])]),a("div",{staticClass:"form-row row"},[a("div",{staticClass:"col-md-12 hide error form-group"},[a("div",{staticClass:"alert-danger alert"},[t._v("Confirm payment info before you make a payment.")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 form-group"},[a("button",{staticClass:"btn btn-primary stripe",on:{click:function(e){return t.payViaStripe(e)}}},[t._v("Pay Now")])])])])])],1),a("b-row")],1)])])])],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("Pay via Stripe")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])])}],r=(a("7db0"),a("a15b"),a("d3b7"),a("5530")),l=a("bcae"),c=a("bc3a"),o=a.n(c),n=a("2f62"),d=a("c4c6"),p={name:"PricingPlan",components:{},created:function(){this.csrf=document.querySelector('meta[name="csrf-token"]').content},mounted:function(){var t=this;l["c"].index(),o.a.get("https://onyxstreaming.com/api/memship").then((function(e){console.log(e),t.memships=e.data,t.loading=!0})),this.$loadScript("https://js.stripe.com/v2/"),this.paypalForm=$("#paypal-form"),this.stripeForm=$("#stripe-form")},updated:function(){$("#my-table tr th").click((function(){$("#my-table tr th").children().removeClass("active"),$(this).children().addClass("active"),$("#my-table td").each((function(){$(this).hasClass("active")&&$(this).removeClass("active")}));var t=$(this).index();$("#my-table tr td:nth-child("+parseInt(t+1)+")").addClass("active")}))},data:function(){return{loading:!1,memships:[],memship_id:0,csrf:null,fee:8.99,paypalForm:null,stripeForm:null}},computed:Object(r["a"])({},Object(n["b"])({user:"Auth/userState"})),methods:{stripeHandleResponse:function(t,e){var a=this;if(e.error)$(".error").removeClass("hide").find(".alert").text(e.error.message);else{var s=e["id"],i=new FormData,r={stripeToken:s,amount:this.fee};for(var l in r)i.append(l,r[l]);this.$store.dispatch("Extra/payWithStripe",i).then((function(t){t.success&&a.$store.dispatch("Auth/upgradeMembership",{memship_id:a.memship_id}).then((function(t){t?(alert("You upgraded membership successfully!"),$("#payOption").modal("hide")):alert("Sorry, upgrading membership failed because of some reasons")}))}))}},payViaPaypal:function(t){t.preventDefault(),this.paypalForm.submit()},payViaStripe:function(t){var e=$(".validation"),a=["input[type=email]","input[type=password]","input[type=text]","input[type=file]","textarea"].join(", "),s=e.find(".required").find(a),i=e.find("div.error");i.addClass("hide"),$(".has-error").removeClass("has-error"),s.each((function(e,a){var s=$(a);""===s.val()&&(s.parent().addClass("has-error"),i.removeClass("hide"),t.preventDefault())})),e.data("cc-on-file")||(t.preventDefault(),Stripe.setPublishableKey(e.data("stripe-publishable-key")),Stripe.createToken({number:$(".card-num").val(),cvc:$(".card-cvc").val(),exp_month:$(".card-expiry-month").val(),exp_year:$(".card-expiry-year").val()},this.stripeHandleResponse))},purchaseMemship:function(t){$("#payOption").modal("show"),this.fee=t.feePerMonth,this.memship_id=t.id},paypalCheckout:function(){paypal.Button.render({env:"sandbox",client:{sandbox:"AS3JSQLLgzQVRep3VZJx1Kzw6kqT7fEv-0K1trl7zef4gGJ77QUWraOsxDsv-VirjcqUlCNnuLl5E4Ug",production:"EJlT5-YFhKKdR1K62Ug_H7MgEWgkxcZuLtSpVpXrE_dVTK3_AqkEL4iXdbr_-wiDcJvhJ4fc5OoDPyve"},locale:"en_US",style:{size:"medium",color:"gold",shape:"pill"},commit:!0,payment:function(t,e){var a="'https://onyxstreaming.com/"+this.$router.currentRoute.path,s=.01;return new Promise((function(t,e){o.a.post("/checkout-paypal",{return_url:a,amount:s},{headers:Object(d["a"])()}).then((function(e){t(e.data.id)})).catch((function(t){e(t)}))}))},onAuthorize:function(t,e){return e.payment.execute().then((function(){window.alert("Thank you for your purchase!")}))}},"#paypal-button")}}},m=p,u=(a("c9dd"),a("2877")),h=Object(u["a"])(m,s,i,!1,null,"4db662f8",null);e["default"]=h.exports},c9dd:function(t,e,a){"use strict";a("67bb")}}]);
//# sourceMappingURL=chunk-051cb4c0.b55b85b1.js.map